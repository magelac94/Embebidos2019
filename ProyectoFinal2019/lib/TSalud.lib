/*** BeginHeader */
#define RIT_MAX		3000
#define RIT_MIN		1000
#define T_CONTROL	300	   	//Tiempo en SEGUNDOS, en los que se chequea el ritmo cardiaco

/*** EndHeader */

/*** BeginHeader tarea_salud */
void tarea_salud(int* pdata);
/*** EndHeader */
void tarea_salud(int* pdata){
	int ritmo_cardiaco;
	char* mensaje;

	while(1){
   	ritmo_cardiaco = 3000;
   	OSTimeDlySec(T_CONTROL);
		ritmo_cardiaco = IO_getAnalogInput(1);
		if(ritmo_cardiaco < RIT_MIN || ritmo_cardiaco > RIT_MAX)
		{
	 		GPRS_sendsms(RITMOCARDIACO);
		}else{
			printf("OK %u\n",ritmo_cardiaco );
		}
	}
}